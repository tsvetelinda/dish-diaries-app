import{a as c}from"./chunk-D34EURXH.js";import{b as $,c as q,d as ee,e as te,g as ne,h as g,i as oe,j as ie}from"./chunk-HGLNSWWQ.js";import{Aa as V,Ba as B,Ea as W,Ka as x,M as N,O as R,Pa as v,R as k,Ta as s,U as d,Ua as r,Va as h,W as l,Wa as Y,Xa as Z,Ya as M,Z as L,Za as X,_a as J,bb as a,ca as T,da as H,fb as p,g as _,la as U,n as f,ob as K,sa as j,xa as z,xb as Q,y as b,ya as C,za as G}from"./chunk-KAITKATV.js";var O=()=>{let n=d(c),t=d(g);return n.isLogged?f(!0):new _(e=>{n.getProfile().pipe(b(o=>(o.status===401?(console.error("Unauthorized request - User is not logged in."),t.navigate(["/login"]),e.next(!1)):(console.error("An error occurred:",o),e.next(!1)),f(!1)))).subscribe(o=>{n.isLogged?e.next(!0):(t.navigate(["/login"]),e.next(!1))})})};var I=()=>{let n=d(c),t=d(g);return n.isLogged?(t.navigate(["/home"]),f(!1)):new _(e=>{n.getProfile().pipe(b(o=>(o.status===401?e.next(!0):(console.error("An error occurred:",o),e.next(!1)),f(!1)))).subscribe(o=>{n.isLogged?(t.navigate(["/home"]),e.next(!1)):e.next(!0)})})};var re=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-G7FB6H2T.js").then(n=>n.HomeComponent)},{path:"login",loadComponent:()=>import("./chunk-LXTNXGJI.js").then(n=>n.LoginComponent),canActivate:[I]},{path:"register",loadComponent:()=>import("./chunk-2U26EMR3.js").then(n=>n.RegisterComponent),canActivate:[I]},{path:"list",loadComponent:()=>import("./chunk-3MQL3UII.js").then(n=>n.ListComponent)},{path:"list/:id",loadComponent:()=>import("./chunk-DSOMDETX.js").then(n=>n.DetailsComponent)},{path:"add",loadComponent:()=>import("./chunk-BEQNX6FD.js").then(n=>n.AddComponent),canActivate:[O]},{path:"surprise",loadComponent:()=>import("./chunk-R3TIQ4C6.js").then(n=>n.SurpriseComponent)},{path:"tried",loadComponent:()=>import("./chunk-NGWGRZZZ.js").then(n=>n.TriedComponent),canActivate:[O]},{path:"search",loadComponent:()=>import("./chunk-KGUPBPW7.js").then(n=>n.SearchComponent)},{path:"404",loadComponent:()=>import("./chunk-YCGFXZHD.js").then(n=>n.ErrorComponent)},{path:"**",redirectTo:"/404",pathMatch:"full"}];var ae={apiUrl:"https://dish-diaries-app.onrender.com"};var{apiUrl:me}=ae,se="/api",le=(n,t)=>(n.url.startsWith(se)&&(n=n.clone({url:n.url.replace(se,me),withCredentials:!0})),t(n));var ue="@",fe=(()=>{class n{constructor(e,o,i,m,u){this.doc=e,this.delegate=o,this.zone=i,this.animationType=m,this.moduleImpl=u,this._rendererFactoryPromise=null,this.scheduler=d(V,{optional:!0}),this.loadingSchedulerFn=d(he,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-NYHYGL2I.js").then(i=>i),o;return this.loadingSchedulerFn?o=this.loadingSchedulerFn(e):o=e(),o.catch(i=>{throw new N(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:m})=>{this._engine=i(this.animationType,this.doc);let u=new m(this.delegate,this._engine,this.zone);return this.delegate=u,u})}createRenderer(e,o){let i=this.delegate.createRenderer(e,o);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let m=new E(i);return o?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(u=>{let ce=u.createRenderer(e,o);m.use(ce),this.scheduler?.notify(10)}).catch(u=>{m.use(i)}),m}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(o){G()}}static{this.\u0275prov=R({token:n,factory:n.\u0275fac})}}return n})(),E=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,o,i){this.delegate.insertBefore(t,e,o,i)}removeChild(t,e,o){this.delegate.removeChild(t,e,o)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,o,i){this.delegate.setAttribute(t,e,o,i)}removeAttribute(t,e,o){this.delegate.removeAttribute(t,e,o)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,o,i){this.delegate.setStyle(t,e,o,i)}removeStyle(t,e,o){this.delegate.removeStyle(t,e,o)}setProperty(t,e,o){this.shouldReplay(e)&&this.replay.push(i=>i.setProperty(t,e,o)),this.delegate.setProperty(t,e,o)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,o){return this.shouldReplay(e)&&this.replay.push(i=>i.listen(t,e,o)),this.delegate.listen(t,e,o)}shouldReplay(t){return this.replay!==null&&t.startsWith(ue)}},he=new k("");function pe(n="animations"){return W("NgAsyncAnimations"),L([{provide:B,useFactory:(t,e,o)=>new fe(t,e,o,n),deps:[Q,ee,U]},{provide:j,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var de={providers:[K({eventCoalescing:!0}),ie(re),$(q([le])),pe()]};function Ce(n,t){if(n&1){let e=Y();s(0,"li",7),a(1,"Add a Dish"),r(),s(2,"li",8),a(3,"Tried it!"),r(),s(4,"li",9),Z("click",function(){T(e);let i=M();return H(i.logout())}),a(5,"Logout"),r()}}function xe(n,t){n&1&&(s(0,"li",10),a(1,"Login"),r(),s(2,"li",11),a(3,"Register"),r())}function ve(n,t){if(n&1&&x(0,xe,4,0),n&2){let e=M();v(e.isNotHomePage&&e.isNotLoginPage&&e.isNotRegisterPage?0:-1)}}var A=class n{constructor(t,e){this.userService=t;this.router=e}get isLoggedIn(){return this.userService.isLogged}get isNotHomePage(){return this.router.url!=="/home"}get isNotLoginPage(){return this.router.url!=="/login"}get isNotRegisterPage(){return this.router.url!=="/register"}logout(){this.userService.logout().subscribe(()=>{this.router.navigate(["/"])})}static \u0275fac=function(e){return new(e||n)(C(c),C(g))};static \u0275cmp=l({type:n,selectors:[["app-header"]],standalone:!0,features:[p],decls:20,vars:1,consts:[[1,"logo-container"],[1,"golden"],[1,"nav-menu"],["routerLink","/"],["routerLink","/list"],["routerLink","/surprise"],["routerLink","/search"],["routerLink","/add"],["routerLink","/tried"],[3,"click"],["routerLink","/login"],["routerLink","/register"]],template:function(e,o){e&1&&(s(0,"nav")(1,"div",0)(2,"p")(3,"span",1),a(4,"D"),r(),a(5,"ish "),s(6,"span",1),a(7,"D"),r(),a(8,"iaries"),r()(),s(9,"ul",2)(10,"li",3),a(11,"Home"),r(),s(12,"li",4),a(13,"Dishes"),r(),s(14,"li",5),a(15,"Surprise Dish"),r(),s(16,"li",6),a(17,"Search"),r(),x(18,Ce,6,0)(19,ve,1,1),r()()),e&2&&(z(18),v(o.isLoggedIn?18:19))},dependencies:[oe],styles:['nav[_ngcontent-%COMP%]{display:flex;padding:20px;width:100%;background-color:#000000b3;position:fixed;top:-100px;left:0;right:0;z-index:10;animation:_ngcontent-%COMP%_slideDown 2s ease-out forwards;animation-delay:.5s;box-shadow:#00000040 0 14px 28px,#00000038 0 10px 10px}@keyframes _ngcontent-%COMP%_slideDown{0%{top:-100px}to{top:0}}.logo-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Dancing Script,cursive;color:#f7e4c4;font-size:3rem;display:inline-block;overflow:hidden;white-space:nowrap;animation:_ngcontent-%COMP%_handwriting 4s steps(30) forwards;border-right:2px solid #FFD400;padding-right:5px}.golden[_ngcontent-%COMP%]{color:gold}@keyframes _ngcontent-%COMP%_handwriting{0%{width:0}to{width:100%;border-right:2px solid transparent}}.nav-menu[_ngcontent-%COMP%]{display:flex;list-style:none;gap:30px;width:80%;justify-content:space-around;font-family:Poiret One,sans-serif}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#ffd400;font-size:1.8rem;cursor:pointer;transition:all .3s ease-in-out;position:relative;padding:10px 20px;text-shadow:2px -1px 1px rgba(0,0,0,.6)}nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:after{content:"";position:absolute;top:0;left:0;width:0;height:0;border:1px solid #FFD400;z-index:1;animation:_ngcontent-%COMP%_smooth-border 2s ease forwards}@keyframes _ngcontent-%COMP%_smooth-border{0%{width:0;height:0;top:100%;left:0}33%{width:100%;height:0;top:100%;left:0;border-bottom:1px solid #FFD400}66%{width:100%;height:100%;top:0;left:0;border-bottom:1px solid #FFD400;border-left:1px solid #FFD400}to{width:100%;height:100%;top:0;left:0;border:1px solid #FFD400}}']})};var P=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=l({type:n,selectors:[["app-footer"]],standalone:!0,features:[p],decls:11,vars:0,consts:[[1,"footer"],[1,"golden"],["href","https://github.com/Tsvetelinda","target","_blank",1,"link"]],template:function(e,o){e&1&&(s(0,"footer",0)(1,"p"),a(2,"\xA9 2024 "),s(3,"span",1),a(4,"D"),r(),a(5,"ish "),s(6,"span",1),a(7,"D"),r(),a(8,"iaries. All rights reserved. Created by"),r(),s(9,"a",2),a(10,"Tsvetelinda"),r()())},styles:[".footer[_ngcontent-%COMP%]{position:absolute;bottom:0;background-color:#000000b3;width:100%;display:flex;font-family:Dancing Script,cursive;align-items:center;padding:10px;justify-content:center;font-size:1.2rem;color:#f7e4c4}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ffd400;text-decoration:none}.golden[_ngcontent-%COMP%]{color:#ffd400}.link[_ngcontent-%COMP%]{transition:transform .3s ease;margin-left:5px}a.link[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"]})};var F=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=l({type:n,selectors:[["app-loader"]],standalone:!0,features:[p],decls:1,vars:0,consts:[[1,"loader"]],template:function(e,o){e&1&&h(0,"span",0)},styles:['.loader[_ngcontent-%COMP%]{width:48px;height:48px;border:3px solid #234465;border-radius:50%;display:inline-block;position:relative;box-sizing:border-box;animation:_ngcontent-%COMP%_rotation 1s linear infinite}.loader[_ngcontent-%COMP%]:after{content:"";box-sizing:border-box;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:40px;height:40px;border-radius:50%;border:3px solid transparent;border-bottom-color:#ff9f00}@keyframes _ngcontent-%COMP%_rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})};var ye=["*"];function _e(n,t){n&1&&h(0,"app-loader")}function be(n,t){n&1&&J(0)}var w=class n{constructor(t){this.userService=t}isAuthenticating=!0;ngOnInit(){this.userService.getProfile().subscribe({next:()=>{this.isAuthenticating=!1},error:()=>{this.isAuthenticating=!1},complete:()=>{this.isAuthenticating=!1}})}static \u0275fac=function(e){return new(e||n)(C(c))};static \u0275cmp=l({type:n,selectors:[["app-authenticate"]],standalone:!0,features:[p],ngContentSelectors:ye,decls:2,vars:1,template:function(e,o){e&1&&(X(),x(0,_e,1,0,"app-loader")(1,be,1,0)),e&2&&v(o.isAuthenticating?0:1)},dependencies:[F]})};var D=class n{title="Dish Diaries";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=l({type:n,selectors:[["app-root"]],standalone:!0,features:[p],decls:4,vars:0,template:function(e,o){e&1&&(s(0,"app-authenticate"),h(1,"app-header")(2,"router-outlet")(3,"app-footer"),r())},dependencies:[ne,A,P,w]})};te(D,de).catch(n=>console.error(n));
