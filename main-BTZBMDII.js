import{a as ie}from"./chunk-UZB7LSIE.js";import{a as d}from"./chunk-FWHHHCNJ.js";import{b as Q,c as $,d as q,e as ee,g as te,h as f,i as ne,j as oe}from"./chunk-HGLNSWWQ.js";import{Aa as G,Ba as V,Ea as B,Ka as C,M as E,O as R,Pa as x,R as N,Ta as s,U as l,Ua as r,Va as _,W as p,Wa as W,Xa as Y,Ya as w,Z as k,Za as Z,_a as X,bb as a,ca as L,da as T,fb as c,g as v,la as H,n as h,ob as J,sa as U,xa as j,xb as K,y,ya as g,za as z}from"./chunk-KAITKATV.js";var D=()=>{let n=l(d),t=l(f);return n.isLogged?h(!0):new v(e=>{n.getProfile().pipe(y(o=>(o.status===401?(console.error("Unauthorized request - User is not logged in."),t.navigate(["/login"]),e.next(!1)):(console.error("An error occurred:",o),e.next(!1)),h(!1)))).subscribe(o=>{n.isLogged?e.next(!0):(t.navigate(["/login"]),e.next(!1))})})};var M=()=>{let n=l(d),t=l(f);return n.isLogged?(t.navigate(["/home"]),h(!1)):new v(e=>{n.getProfile().pipe(y(o=>(o.status===401?e.next(!0):(console.error("An error occurred:",o),e.next(!1)),h(!1)))).subscribe(o=>{n.isLogged?(t.navigate(["/home"]),e.next(!1)):e.next(!0)})})};var re=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-C6ARJXPW.js").then(n=>n.HomeComponent)},{path:"login",loadComponent:()=>import("./chunk-63Z6BQQ5.js").then(n=>n.LoginComponent),canActivate:[M]},{path:"register",loadComponent:()=>import("./chunk-YPIWZ3N6.js").then(n=>n.RegisterComponent),canActivate:[M]},{path:"list",loadComponent:()=>import("./chunk-3MQL3UII.js").then(n=>n.ListComponent)},{path:"list/:id",loadComponent:()=>import("./chunk-KDCIWB6C.js").then(n=>n.DetailsComponent)},{path:"add",loadComponent:()=>import("./chunk-T4IARHPY.js").then(n=>n.AddComponent),canActivate:[D]},{path:"surprise",loadComponent:()=>import("./chunk-R3TIQ4C6.js").then(n=>n.SurpriseComponent)},{path:"tried",loadComponent:()=>import("./chunk-MCTXSZK4.js").then(n=>n.TriedComponent),canActivate:[D]},{path:"search",loadComponent:()=>import("./chunk-KGUPBPW7.js").then(n=>n.SearchComponent)},{path:"404",loadComponent:()=>import("./chunk-YCGFXZHD.js").then(n=>n.ErrorComponent)},{path:"**",redirectTo:"/404",pathMatch:"full"}];var ae={apiUrl:"https://dish-diaries-app.onrender.com"};var{apiUrl:me}=ae,se="/api",le=(n,t)=>(n.url.startsWith(se)&&(n=n.clone({url:n.url.replace(se,me),withCredentials:!0})),t(n));var ue="@",he=(()=>{class n{constructor(e,o,i,m,u){this.doc=e,this.delegate=o,this.zone=i,this.animationType=m,this.moduleImpl=u,this._rendererFactoryPromise=null,this.scheduler=l(G,{optional:!0}),this.loadingSchedulerFn=l(fe,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-NYHYGL2I.js").then(i=>i),o;return this.loadingSchedulerFn?o=this.loadingSchedulerFn(e):o=e(),o.catch(i=>{throw new E(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:m})=>{this._engine=i(this.animationType,this.doc);let u=new m(this.delegate,this._engine,this.zone);return this.delegate=u,u})}createRenderer(e,o){let i=this.delegate.createRenderer(e,o);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let m=new O(i);return o?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(u=>{let de=u.createRenderer(e,o);m.use(de),this.scheduler?.notify(10)}).catch(u=>{m.use(i)}),m}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(o){z()}}static{this.\u0275prov=R({token:n,factory:n.\u0275fac})}}return n})(),O=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,o,i){this.delegate.insertBefore(t,e,o,i)}removeChild(t,e,o){this.delegate.removeChild(t,e,o)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,o,i){this.delegate.setAttribute(t,e,o,i)}removeAttribute(t,e,o){this.delegate.removeAttribute(t,e,o)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,o,i){this.delegate.setStyle(t,e,o,i)}removeStyle(t,e,o){this.delegate.removeStyle(t,e,o)}setProperty(t,e,o){this.shouldReplay(e)&&this.replay.push(i=>i.setProperty(t,e,o)),this.delegate.setProperty(t,e,o)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,o){return this.shouldReplay(e)&&this.replay.push(i=>i.listen(t,e,o)),this.delegate.listen(t,e,o)}shouldReplay(t){return this.replay!==null&&t.startsWith(ue)}},fe=new N("");function pe(n="animations"){return B("NgAsyncAnimations"),k([{provide:V,useFactory:(t,e,o)=>new he(t,e,o,n),deps:[K,q,H]},{provide:U,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var ce={providers:[J({eventCoalescing:!0}),oe(re),Q($([le])),pe()]};function Ce(n,t){if(n&1){let e=W();s(0,"li",7),a(1,"Add a Dish"),r(),s(2,"li",8),a(3,"Tried it!"),r(),s(4,"li",9),Y("click",function(){L(e);let i=w();return T(i.logout())}),a(5,"Logout"),r()}}function xe(n,t){n&1&&(s(0,"li",10),a(1,"Login"),r(),s(2,"li",11),a(3,"Register"),r())}function ve(n,t){if(n&1&&C(0,xe,4,0),n&2){let e=w();x(e.isNotHomePage&&e.isNotLoginPage&&e.isNotRegisterPage?0:-1)}}var b=class n{constructor(t,e){this.userService=t;this.router=e}get isLoggedIn(){return this.userService.isLogged}get isNotHomePage(){return this.router.url!=="/home"}get isNotLoginPage(){return this.router.url!=="/login"}get isNotRegisterPage(){return this.router.url!=="/register"}logout(){this.userService.logout().subscribe(()=>{this.router.navigate(["/"])})}static \u0275fac=function(e){return new(e||n)(g(d),g(f))};static \u0275cmp=p({type:n,selectors:[["app-header"]],standalone:!0,features:[c],decls:20,vars:1,consts:[[1,"logo-container"],[1,"golden"],[1,"nav-menu"],["routerLink","/"],["routerLink","/list"],["routerLink","/surprise"],["routerLink","/search"],["routerLink","/add"],["routerLink","/tried"],[3,"click"],["routerLink","/login"],["routerLink","/register"]],template:function(e,o){e&1&&(s(0,"nav")(1,"div",0)(2,"p")(3,"span",1),a(4,"D"),r(),a(5,"ish "),s(6,"span",1),a(7,"D"),r(),a(8,"iaries"),r()(),s(9,"ul",2)(10,"li",3),a(11,"Home"),r(),s(12,"li",4),a(13,"Dishes"),r(),s(14,"li",5),a(15,"Surprise Dish"),r(),s(16,"li",6),a(17,"Search"),r(),C(18,Ce,6,0)(19,ve,1,1),r()()),e&2&&(j(18),x(o.isLoggedIn?18:19))},dependencies:[ne],styles:['nav[_ngcontent-%COMP%]{display:flex;padding:20px;width:100%;background-color:#000000b3;position:fixed;top:-100px;left:0;right:0;z-index:10;animation:_ngcontent-%COMP%_slideDown 2s ease-out forwards;animation-delay:.5s;box-shadow:#00000040 0 14px 28px,#00000038 0 10px 10px}@keyframes _ngcontent-%COMP%_slideDown{0%{top:-100px}to{top:0}}.logo-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Dancing Script,cursive;color:#f7e4c4;font-size:3rem;display:inline-block;overflow:hidden;white-space:nowrap;animation:_ngcontent-%COMP%_handwriting 4s steps(30) forwards;border-right:2px solid #FFD400;padding-right:5px}.golden[_ngcontent-%COMP%]{color:gold}@keyframes _ngcontent-%COMP%_handwriting{0%{width:0}to{width:100%;border-right:2px solid transparent}}.nav-menu[_ngcontent-%COMP%]{display:flex;list-style:none;gap:30px;width:80%;justify-content:space-around;font-family:Poiret One,sans-serif}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#ffd400;font-size:1.8rem;cursor:pointer;transition:all .3s ease-in-out;position:relative;padding:10px 20px;text-shadow:2px -1px 1px rgba(0,0,0,.6)}nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:after{content:"";position:absolute;top:0;left:0;width:0;height:0;border:1px solid #FFD400;z-index:1;animation:_ngcontent-%COMP%_smooth-border 2s ease forwards}@keyframes _ngcontent-%COMP%_smooth-border{0%{width:0;height:0;top:100%;left:0}33%{width:100%;height:0;top:100%;left:0;border-bottom:1px solid #FFD400}66%{width:100%;height:100%;top:0;left:0;border-bottom:1px solid #FFD400;border-left:1px solid #FFD400}to{width:100%;height:100%;top:0;left:0;border:1px solid #FFD400}}']})};var S=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-footer"]],standalone:!0,features:[c],decls:11,vars:0,consts:[[1,"footer"],[1,"golden"],["href","https://github.com/Tsvetelinda","target","_blank",1,"link"]],template:function(e,o){e&1&&(s(0,"footer",0)(1,"p"),a(2,"\xA9 2024 "),s(3,"span",1),a(4,"D"),r(),a(5,"ish "),s(6,"span",1),a(7,"D"),r(),a(8,"iaries. All rights reserved. Created by"),r(),s(9,"a",2),a(10,"Tsvetelinda"),r()())},styles:[".footer[_ngcontent-%COMP%]{position:absolute;bottom:0;background-color:#000000b3;width:100%;display:flex;font-family:Dancing Script,cursive;align-items:center;padding:10px;justify-content:center;font-size:1.2rem;color:#f7e4c4}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ffd400;text-decoration:none}.golden[_ngcontent-%COMP%]{color:#ffd400}.link[_ngcontent-%COMP%]{transition:transform .3s ease;margin-left:5px}a.link[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"]})};var ye=["*"];function _e(n,t){n&1&&_(0,"app-loader")}function Ae(n,t){n&1&&X(0)}var F=class n{constructor(t){this.userService=t}isAuthenticating=!0;ngOnInit(){this.userService.getProfile().subscribe({next:()=>{this.isAuthenticating=!1},error:()=>{this.isAuthenticating=!1},complete:()=>{this.isAuthenticating=!1}})}static \u0275fac=function(e){return new(e||n)(g(d))};static \u0275cmp=p({type:n,selectors:[["app-authenticate"]],standalone:!0,features:[c],ngContentSelectors:ye,decls:2,vars:1,template:function(e,o){e&1&&(Z(),C(0,_e,1,0,"app-loader")(1,Ae,1,0)),e&2&&x(o.isAuthenticating?0:1)},dependencies:[ie]})};var P=class n{title="Dish Diaries";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-root"]],standalone:!0,features:[c],decls:4,vars:0,template:function(e,o){e&1&&(s(0,"app-authenticate"),_(1,"app-header")(2,"router-outlet")(3,"app-footer"),r())},dependencies:[te,b,S,F]})};ee(P,ce).catch(n=>console.error(n));
